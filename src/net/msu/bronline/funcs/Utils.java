package net.msu.bronline.funcs;

import net.msu.bronline.network.NetworkDevices;

import java.awt.*;

import static java.lang.Thread.sleep;
import static net.msu.bronline.guis.Present.getPresent;

public class Utils {
    public static int getInsidePosition(int p, int dp, double percent){
        return (int)(p + ((dp-p)*(percent/100)));
    }
    public static Color getColor(int id){
        switch (id){
            case 1:
                return new Color(0x1C69FF);
            case 2:
                return Color.MAGENTA;
            case 3:
                return Color.RED;
            case 4:
                return Color.YELLOW;
            case 5:
                return Color.cyan;
            case 6:
                return Color.GREEN;
            case 7:
                return Color.BLUE;
            case 8:
                return new Color(0xC6FF2A);
            default:
                return Color.WHITE;
        }
    }


    public static void runServerFinder(){
        new Thread(new Runnable() {
            @Override
            public void run() {
                while (getPresent().getGame_status() == 2){
                    NetworkDevices.getNetworkDevices();
                    try {
                        sleep(500);
                        NetworkDevices.updateHost();
//                        sleep(500);
                    } catch (InterruptedException ex) {
                        throw new RuntimeException(ex);
                    }
                }
            }
        }).start();
    }

    public static double getMathM(double[] xy1, double[] xy2){
        return (xy2[1] - xy1[1])/(xy2[0] - xy1[0]);
    }

    public static double getMathM(int[] xy1, int[] xy2){
        return ((double) xy2[1] - xy1[1])/((double)xy2[0] - xy1[0]);
    }

    public static double geMathLinEq(int[] xy1, int[] xy2, int[] xy3){
        /*
            y1-y2 = m(x1-x2)
            my = (xy2[1] - xy1[1])
            mx = (xx2[0] - xx1[0])

            y1-y2 = my * (x1-x2)
                    mx

            (mx*y1)-(mx*y2) = (my*x1)+(my*x2)

            ((my*-1)*x1)+(mx*y1)-((my*x2)-(mx*y2))
         */
        int x1 = xy1[0], x2 = xy2[0];
        int y1 = xy1[1], y2 = xy2[1];
        int my = (xy2[1] - xy1[1]);
        int mx = (xy2[0] - xy1[0]);
        int x = xy3[0], y = xy3[1];

        double res = (my*x)-((my*x2)-(mx*y2))-(mx*y);
        return res;
    }

    public static boolean isColl(int [][] data, int x, int y){
        int[] xy = {x, y};
        for (int i = 0; i < data.length; i++){
            double v;

            if(i+1 == data.length)
                v = geMathLinEq(data[i], data[0], xy);
            else
                v = geMathLinEq(data[i], data[i+1], xy);

            if (v < 0) return true;
        }
        return false;
    }


    public static int[][][] colld_data = {
//            แบ่งเป็นก้อน ค่าจะเก็บเรียงจาก ซ้ายบน->ซ้ายล่าง->ขวาล่าง->ขวาบน
//
//            mark จุดเปิด F12 แล้วกด Ctrl+คลิกซ้าย
//            รีเซ็ตจุดที่ mark จุดกด Ctrl+คลิกขวา
//            {
//                    {x1, y1},
//                    {x2, y2},
//                    {x3, y3},
//                    {x4, y4}
//            },
            {
                    {17, 53},
                    {22, 140},
                    {429, 106},
                    {424, 21}
            }, //ประมาณนี้
            {
                    {-32,2},
                    {-26,76},
                    {325,48},
                    {319, -25}
            },
            {
                    {436, 49},
                    {452,123},
                    {523, 107},
                    {508, 33}
            },
            {
                    {-16,235 },
                    {-21, 287},
                    {118,299},
                    {123,249}
            },
            {
                    {529,47 },
                    {540, 119},
                    {692,95 },
                    {681,22 }
            },
            {
                    {509,253},
                    {495,323 },
                    {651, 355},
                    {663,285}
            },
            {
                    {746,273},
                    {737,343 },
                    {811, 356},
                    {820,288 }
            },
            {
                    {861,297 },
                    {849,377 },
                    {1023,412},
                    {1034,330}
            },
            {
                    {969,-20},
                    {984,55},
                    {1110,22},
                    {1095,-53}
            },
            {
                    {1399,241},
                    {1422,424 },
                    {1528,384 },
                    {1489,208}
            },
            {
                    {1489,208},
                    {1528,384 },
                    {163,344 },
                    {1615,207}
            },
            {
                    {1137,302 },
                    {1123,418 },
                    {1238,440 },
                    {1251,325}
            },
            {
                    {1257,75},
                    {1310,175 },
                    {1348,147 },
                    {1294,49 }
            },
            {
                    {1717,323 },
                    {1804,520 },
                    {1865,464 },
                    {1777,269}
            },
            {
                    {1818,300 },
                    {1864,389 },
                    {1896,362 },
                    {1851,263}
            },
            {
                    {1570,411 },
                    {1620,508 },
                    {1688,523 },
                    {1699,442 }
            },
            {
                    {1570,411 },
                    {1535, 666},
                    {1608,599 },
                    {1620,508 }
            },
            {
                    {1608,599 },
                    {1535,666 },
                    {1666,698 },
                    {1676,616 }
            },
            {
                    {1751,685 },
                    {1778,781 },
                    {1834,750 },
                    {1808,657 }
            },
            {
                    {1650, 1027},
                    {1656,1061 },
                    {169,1047 },
                    {1629,1015 }
            },
            {
                    {1615,3979 },
                    {1620, 1008},
                    {1660,994},
                    {1652,966 }
            },
            {
                    {1610,737 },
                    {1598,815 },
                    {1629, 829},
                    {1643,750 }
            },
            {
                    {1505,513 },
                    {1544,574 },
                    {1569,539 },
                    {1528,477 }
            },
            {
                    {1506,629 },
                    {1553,701 },
                    {1569,653 },
                    {1518,613 }
            },
            {
                    {675,221 },
                    {676,314 },
                    {726,316 },
                    {723,219 }
            },
            {
                    {344, 586},
                    {341, 636},
                    {432,641 },
                    {435,592 }
            },
            {
                    {629, 647},
                    {626,740 },
                    {828, 747},
                    {831,653 }
            },
            {
                    {702, 731},
                    {699, 825},
                    {866,831 },
                    {869, 738}
            },
            {
                    {855,835 },
                    {851, 929},
                    {1019, 936},
                    {1020, 843}
            },
            {
                    {1135, 919},
                    {1185, 973},
                    {1362, 774},
                    {1311,719 }
            },
            {
                    {1023,982},
                    {1088, 1037},
                    {1151,961 },
                    {1097,906 }
            },
            {
                    {687,779},
                    {666,851  },
                    {978,955 },
                    {997, 884}
            },
            {
                    {366,1035 },
                    {368, 1119},
                    {423,1117 },
                    {422, 1035}
            },
            {
                    {455,1061 },
                    {456,1143 },
                    {511,1142 },
                    {510,1060}
            },
            {
                    {1179,995},
                    {1182,1074 },
                    {1225,1073 },
                    {1222,991 }
            },
            {
                    {1191,1029 },
                    {1195, 1109},
                    {1237,1108 },
                    {1233,1027 }
            },
            {
                    {1088, 1241},
                    {1133,1266 },
                    {1147,1237 },
                    {1102, 1212}
            },
            {
                    {1161,1198 },
                    {1239,1409 },
                    {1330,1373 },
                    {1253,1162 }
            },
            {
                    {1275,1414 },
                    {1277, 1561},
                    {1387,1561 },
                    {1386,1413 }
            },
            {
                    {1388,1237 },
                    {1391,1385 },
                    {1500,1383 },
                    {1499,1237 }
            },
            {
                    {1678,1370 },
                    {1660,1427 },
                    {1773,1473 },
                    {1792,1417 }
            },
            {
                    {1679,1447 },
                    {1569,1691 },
                    {1632,1725 },
                    {1743,1479 }
            },
            {
                    {1707,1712 },
                    {1707,1806 },
                    {1795,1807 },
                    {1794,1712 }
            },
            {
                    {1492,1545 },
                    {1363,1744 },
                    {1451,1803 },
                    {1578,1603 }
            },
            {
                    {1290,1486 },
                    {1270, 1518},
                    {1291,1531 },
                    {1310, 1498}
            },
            {
                    {1865, 1605},
                    {1864,1657 },
                    {1891,1659 },
                    {1892, 1605}
            },
            {
                    {1789,1638 },
                    {1788,1677 },
                    {1811,1677 },
                    {1812, 1638}
            },
            {
                    {582,1701 },
                    {591, 1723},
                    {636,1709 },
                    {626,1684 }
            },
            {
                    {241, 1666},
                    {275,1738 },
                    {410,1705 },
                    {374,1633 }
            },
            {
                    {148, 1752},
                    {177,1817 },
                    {494,4738 },
                    {463, 1674}
            },
            {
                    {347,1245 },
                    {304,1373 },
                    {373,1475 },
                    {441,1267 }
            },
            {
                    {197,1349 },
                    {171,1428 },
                    {373,1475 },
                    {303,1374 }
            },
            {
                    {272,1005 },
                    {258,1167 },
                    {399,1180 },
                    {415,10616}
            },
            {
                    {26,866},
                    {26,970 },
                    {80,979 },
                    {102,882 }
            },
            {
                    {170,879 },
                    {170,905 },
                    {225, 903},
                    {223,875 }
            },
            {
                    {121, 1131},
                    {93, 1178},
                    {126,1194 },
                    {156, 1145}
            },
            {
                    {34,1467 },
                    {71,1523 },
                    {119, 1507},
                    {85, 1451}
            },
            {
                    {290,1370 },
                    {305,1430 },
                    {356,1423 },
                    {343,1364 }
            },
            {
                    {238,1427 },
                    {254,1487 },
                    {308,1481 },
                    {291,1420 }
            },
            {
                    {194,1503 },
                    {230,1559 },
                    {279,1543 },
                    {244,1488 }
            },
            {
                    {197,1637 },
                    {251,1709 },
                    {331,1689 },
                    {275,1617 }
            },
            {
                    {20,1577 },
                    {20,1729 },
                    {54,1760 },
                    {112,1522 }
            },
            {
                    {130,1538},
                    {54,1760 },
                    {336,1588 },
                    {222,1483 }
            },
            {
                    {20,1577},
                    {20,1603 },
                    {130,1538 },
                    {112,1522 }
            }

    };

    public static boolean dev = false;
}
